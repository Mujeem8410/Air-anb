<% layout("/layouts/boilerplate") %>
<style>

    #filters{
      display: flex;
      flex-wrap: wrap;
    }
    .filter{
      font-size:0.9rem;
      text-align: center;
      margin-right: 1.2rem;
      margin-top: 2rem;
      opacity: 0.7;
    }
    .filter p{
      font-size:0.8rem;
    }
    .filter:hover{
      opacity: 1;
    }
    .tax-info{
      display: none;
    }
    .tax-toggle{
      border: 1px solid black;
      border-radius: 1rem;
      height: 2.5rem;
      padding: 0.6rem;
      margin-left: 4rem;
      display: flex;
      align-items: center;
      margin-top:1.9rem;
    }
    a{
      text-decoration: none;
      color: black;
    }
  
  </style>
  


<div id="filters">
  <div class="filter">
    <a href="/cat?category=Trending">
     <div>
      <i class="fa-solid fa-fire"></i>
     </div>
     <p>Trending</p></a>

  </div>

  <div class="filter">
    <a href="/cat?category=Room">
    <i class="fa-solid fa-bed"></i>
    <div>
      <p>Room</p>


    </div></a>
  </div>
  <div class="filter">
    <div>
      <a href="/cat?category=Iconic city">
      
      <i class="fa-solid fa-city"></i></div>
    
        <p>Iconi city</a></p>
    

    </div>
    <div class="filter">
      <a href="/cat?category=Mountain">
      <div><i class="fa-solid fa-mountain"></i></div>
      <p>Mountain</p></a>


    </div>
  <div class="filter">
    <a href="/cat?category=Castles">
    <div><i class="fa-brands fa-fort-awesome"></i></div>
    
      <p>Castles</p></a>


    
  </div>
  <div class="filter">
    <a href="/cat?category=Amazing Pool">
    <div><i class="fa-solid fa-person-swimming"></i></div>
      <p>Amazing Pool</p></a>

  </div>
  <div class="filter">
    <a href="/cat?category=camping">
    <div><i class="fa-solid fa-campground"></i></div>
      <p>Camping</p></a>

  </div>

  <div class="filter">
    <a href="/cat?category=Farm">
    <div><i class="fa-solid fa-tractor"></i></div>
      <p>Farm</p>
      </a>

  </div>
  <div class="filter">
    <a href="/cat?category=Arctic">
  <div><i class="fa-solid fa-snowflake"></i></div>
  <p>Arctic</p></a>

</div>
<div class="filter">
  <a href="/cat?category=Domes">
  <div><i class="fa-solid fa-igloo"></i>
  </div>
  <p>Domes</p></a>

</div>
<div class="filter">
  <a href="/cat?category=Boats">
  <div>
    <i class="fa-solid fa-ferry"></i>
  </div>
  <p>Boats</p></a>

</div>
<div class="tax-toggle">
  <div class="form-check  form-check-reverse form-switch">
    <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckDefault">
    <label class="form-check-label" for="flexSwitchCheckDefault">Diplay total taxes</label>
  </div>
</div>


</div>

  
  <div class="row row-cols-lg-3 row-cols-md-2 row-cols-sm-1 mt-3">

    <% for(let listing of alllisting){%>
      <a href="/listing/<%=listing._id%>" class="listing-links">
        <div class="card col listing-card" class="card-link">
          <img src="<%=listing.image.url%>" class="card-img-top" alt="listing-image" style="height:20rem;" />
          <div class="card-img-overlay"></div>
          <div class="card-body">
            <p class="card-text"><b>
                <%=listing.title%>
              </b> <br>
              <%=listing.price.toLocaleString("en-IN")%>/night &nbsp;&nbsp;<b><i><%=listing.category%></i></b>
              <i class="tax-info">&nbsp;&nbsp; +18 % GST</i>
            </p>
           
          </div>
        </div>
      </a>
      <%}%>
  </div>
  <script>
    let togglebtn =document.getElementById("flexSwitchCheckDefault");
    togglebtn.addEventListener("click",()=>{
      console.log("cliked me");
      let taxinfo = document.getElementsByClassName("tax-info");
      for(info of taxinfo)
      {
        if(info.style.display!="inline")
        {
          info.style.display = "inline"
        }
        else{
           info.style.display = "none"

        }
        
      }
    });

  </script>